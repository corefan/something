/*!CK:3801004610!*//*1449709785,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["dGEY+"]); }

__d("VideoHomeRequestStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"};},null);
__d("VideoPlayerLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAROUSEL_CHANGE:"carousel_change",DISPLAYED:"displayed",ENTERED_HD:"entered_hd",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",EXITED_HD:"exited_hd",EXITED_FS:"exited_fs",ERROR:"error",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PROGRESS:"progress",STREAM_RESET:"stream_reset",POP_FAILOVER:"pop_failover",SURFACE_UPDATED:"surface_updated",TOGGLE_SUBTITLE_OFF:"toggle_subtitle_off",TOGGLE_SUBTITLE_ON:"toggle_subtitle_on",QUALITY_CHANGE:"quality_change",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",UNMUTED:"unmuted",UNPAUSED:"unpaused",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",SWITCHED_IMPLEMENTATION:"switched_implementation",INLINE_CLICK_TO_PLAY:"inline_click_to_play",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_LOAD_ERROR:"manifest_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",COMPLETION:"completion",VIEW:"view"};},null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){if(j.readyState>=h.HAVE_METADATA){return j.muted;}else return j.hasAttribute('muted')||j.muted;}f.exports=i;},null);
__d('FBLinkDisplayTime',['CSS','Event'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={},k={isClicked:function(l){var m=l.id;if(j.hasOwnProperty(m))return !!j[m].clicked;return false;},register:function(l,m){var n=l.id;j[n]=i.listen(l,'click',function(event){h.addClass(l,m);j[n].clicked=m;event.preventDefault();});},unregister:function(l){var m=l.id;if(j.hasOwnProperty(m)){if(j[m].clicked)h.removeClass(l,j[m].clicked);j[m].remove();}}};f.exports=k;},null);
__d('VideoAutoplayControllerBase',['Arbiter','DesktopHscrollUnitEventConstants','Event','VideoPlayerAbortLoadingExperiment','VideoPlayerReason','Visibility','destroyOnUnload','SubscriptionsHandler','throttle'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();function q(r){'use strict';this.$VideoAutoplayControllerBase1=null;this.$VideoAutoplayControllerBase2=null;this.$VideoAutoplayControllerBase3=[];this.$VideoAutoplayControllerBase4=r;this.$VideoAutoplayControllerBase5=null;this.$VideoAutoplayControllerBase6=new o();n((function(){this.$VideoAutoplayControllerBase3=[];this.$VideoAutoplayControllerBase1=null;if(this.$VideoAutoplayControllerBase5){this.$VideoAutoplayControllerBase5.remove();this.$VideoAutoplayControllerBase5=null;}this.$VideoAutoplayControllerBase6.release();}).bind(this));}q.prototype.getVideoUnits=function(){'use strict';return this.$VideoAutoplayControllerBase3;};q.prototype.setVideoUnits=function(r){'use strict';this.$VideoAutoplayControllerBase3=r;};q.prototype.addVideoUnit=function(r){'use strict';this.$VideoAutoplayControllerBase3.push(r);};q.prototype.getPlayingVideoUnit=function(){'use strict';return this.$VideoAutoplayControllerBase1;};q.prototype.setPlayingVideoUnit=function(r){'use strict';this.$VideoAutoplayControllerBase1=r;if(this.$VideoAutoplayControllerBase1)this.setupPlayingVideoUnitSubscriptions();};q.prototype.playVideo=function(r,s){'use strict';this.setPlayingVideoUnit(r);if(this.$VideoAutoplayControllerBase1)this.$VideoAutoplayControllerBase1.playWithoutUnmute(s);};q.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';throw new Error('Should be overridden');};q.prototype.addSubscriberVideoUnit=function(){'use strict';if(!this.getVideoUnits().length){this.$VideoAutoplayControllerBase6.addSubscriptions(j.listen(window,'resize',this.updateAutoplay.bind(this)),j.listen(window,'blur',this.$VideoAutoplayControllerBase7.bind(this)),j.listen(window,'focus',this.$VideoAutoplayControllerBase8.bind(this)),m.addListener(m.HIDDEN,this.$VideoAutoplayControllerBase7.bind(this)),m.addListener(m.VISIBLE,this.$VideoAutoplayControllerBase8.bind(this)),h.subscribe(i.HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this)));if(!this.$VideoAutoplayControllerBase9())this.$VideoAutoplayControllerBase10();}};q.prototype.$VideoAutoplayControllerBase7=function(){'use strict';if(!this.$VideoAutoplayControllerBase2){this.$VideoAutoplayControllerBase2=this.getPlayingVideoUnit();this.pausePlayingVideo(l.PAGE_VISIBILITY);}};q.prototype.$VideoAutoplayControllerBase8=function(){'use strict';if(this.$VideoAutoplayControllerBase2){this.playVideo(this.$VideoAutoplayControllerBase2,l.PAGE_VISIBILITY);this.$VideoAutoplayControllerBase2=null;}};q.prototype.$VideoAutoplayControllerBase10=function(){'use strict';if(this.$VideoAutoplayControllerBase5)this.$VideoAutoplayControllerBase5.remove();this.$VideoAutoplayControllerBase5=j.listen(window,'scroll',p(this.updateAutoplay.bind(this),this.$VideoAutoplayControllerBase4));};q.prototype.$VideoAutoplayControllerBase9=function(){'use strict';return !!this.$VideoAutoplayControllerBase5;};q.prototype.getClosestVideoUnits=function(r){'use strict';return this.$VideoAutoplayControllerBase3.filter(function(s){return s.getDistanceToViewport()>=0;}).sort(function(s,t){return (s.getDistanceToViewport()-t.getDistanceToViewport());}).slice(0,r);};q.prototype.getVisibleUnits=function(){'use strict';var r=[];this.$VideoAutoplayControllerBase3.forEach(function(s){if(s.isVisible()){r.push(s);if(!s.wasVisible){s.wasVisible=true;s.logDisplayed();}}else s.wasVisible=false;});return r;};q.prototype.pausePlayingVideo=function(r){'use strict';var s=this.$VideoAutoplayControllerBase1;if(s){s.pause(r);if(k.canAbort&&!s.getIsInChannel())s.abortLoading();this.$VideoAutoplayControllerBase1=null;}};q.prototype.updateAutoplay=function(){'use strict';throw new Error('Should be overridden');};f.exports=q;},null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/autoplay\/nux\/dismiss\/",{});},null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/autoplay\/nux\/log\/view\/",{});},null);
__d("XVideoAutoplayNuxAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/autoplay\/nux\/",{});},null);
__d('VideoAutoplayControllerX',['Event','DOMDimensions','SubscriptionsHandler','VideoAutoplayControllerBase','VideoPlayerPreloadExperiment','VideoPlayerReason','DOM','destroyOnUnload','AsyncRequest','XVideoAutoplayNuxDismissAsyncController','XVideoAutoplayNuxLogViewAsyncController','XVideoAutoplayNuxAsyncController','csx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v,w=null,x=500;u=babelHelpers.inherits(y,k);v=u&&u.prototype;function y(){'use strict';v.constructor.call(this,x);this.$VideoAutoplayControllerX1=new j();this.$VideoAutoplayControllerX2=true;this.$VideoAutoplayControllerX3=null;this.$VideoAutoplayControllerX4=null;this.$VideoAutoplayControllerX5=false;var z=s.getURIBuilder().getURI();new p(z).send();o((function(){this.$VideoAutoplayControllerX6();if(this===w)w=null;}).bind(this));}y.registerVideoUnit=function(z){'use strict';if(w==null)w=new y();w.addSubscriberVideoUnit();w.addVideoUnit(z);if(z.isVisible())w.updateAutoplay();};y.setShouldAutoplay=function(z){'use strict';if(w==null)w=new y();w.$VideoAutoplayControllerX2=z;w.updateAutoplay();};y.prototype.$VideoAutoplayControllerX6=function(){'use strict';this.$VideoAutoplayControllerX1.release();};y.setAutoplayNux=function(z,aa){'use strict';if(w==null)return;w.$VideoAutoplayControllerX3=z;w.$VideoAutoplayControllerX4=aa;w.$VideoAutoplayControllerX5=true;var ba=n.find(aa.getContentRoot(),"._5cqr");h.listen(ba,'click',function(){w.$VideoAutoplayControllerX7();});var ca=n.scry(aa.getContentRoot(),"._36gl")[0];if(ca)h.listen(ca,'click',function(){w.$VideoAutoplayControllerX7();});};y.prototype.$VideoAutoplayControllerX7=function(){'use strict';this.$VideoAutoplayControllerX4.hide();this.$VideoAutoplayControllerX5=false;var z=q.getURIBuilder().getURI();new p(z).send();};y.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';if(this.getPlayingVideoUnit().addListener){this.$VideoAutoplayControllerX1.release();this.$VideoAutoplayControllerX1.engage();this.$VideoAutoplayControllerX1.addSubscriptions.apply(this.$VideoAutoplayControllerX1,['finishPlayback','turnOffAutoplay'].map((function(event){return this.getPlayingVideoUnit().addListener(event,(function(){this.setPlayingVideoUnit(null);}).bind(this));}).bind(this)));}};y.prototype.showAutoplayNUX=function(z){'use strict';if(this.$VideoAutoplayControllerX4&&!this.$VideoAutoplayControllerX4.isShown()){var aa=z.getVideoPlayerController().getRootNode();n.prependContent(aa,this.$VideoAutoplayControllerX3);this.$VideoAutoplayControllerX4.show();var ba=r.getURIBuilder().getURI();new p(ba).send();}this.$VideoAutoplayControllerX5=false;};y.getChannelVideos=function(){'use strict';if(w)return w.getVideoUnits().filter(function(z){return z.getIsInChannel();});return null;};y.prototype.updateAutoplay=function(){'use strict';if(!this.$VideoAutoplayControllerX2){this.pausePlayingVideo(m.AUTOPLAY);return;}var z=this.getVisibleUnits();this.getClosestVideoUnits(l.preloadVideosCount).forEach(function(da){return da.preload();});var aa=z.length,ba=null;if(aa==1){ba=z[0];ba=ba.isAutoplayable()?ba:null;}else if(aa>1){var ca=i.getViewportDimensions().height/2;z.forEach(function(da){if(!da.isAutoplayable())return;var ea=da.getDOMPosition(),fa=ea.y+ea.height/2,ga=Math.abs(fa-ca);da.playPriority=ga;if(!ba||da.playPriority<ba.playPriority)ba=da;});}if(this.getPlayingVideoUnit()){if(ba!=this.getPlayingVideoUnit()){this.pausePlayingVideo(m.AUTOPLAY);this.playVideo(ba,m.AUTOPLAY);if(this.$VideoAutoplayControllerX5)this.showAutoplayNUX(ba);}}else if(ba){this.playVideo(ba,m.AUTOPLAY);if(this.$VideoAutoplayControllerX5)this.showAutoplayNUX(ba);}};f.exports=y;},null);
__d('VideoAutoplayPlayerBase',['EventEmitter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i,j;i=babelHelpers.inherits(k,h);j=i&&i.prototype;function k(){'use strict';j.constructor.call(this);}k.prototype.isVisible=function(){'use strict';throw new Error('Should be overridden');};k.prototype.getDistanceToViewport=function(){'use strict';throw new Error('Should be overridden');};k.prototype.logDisplayed=function(){'use strict';throw new Error('Should be overridden');};k.prototype.playWithoutUnmute=function(l){'use strict';throw new Error('Should be overridden');};k.prototype.pause=function(l){'use strict';throw new Error('Should be overridden');};k.prototype.isAutoplayable=function(){'use strict';throw new Error('Should be overridden');};k.prototype.getDOMPosition=function(){'use strict';throw new Error('Should be overridden');};f.exports=k;},null);
__d('logVideosClickTracking',['clickRefAction'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){h('click',j,null,'FORCE');}f.exports=i;},null);
__d('VideoCTAEndscreen',['Arbiter','AttachmentRelatedShareConstants','CSS','Event','Focus','SubscriptionsHandler','VideoPlayerReason','VideoPlayerLoggerEvent','cx','logVideosClickTracking'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();function r(s,t){'use strict';this.$VideoCTAEndscreen1=s;this.$VideoCTAEndscreen2=t.endscreenElement;this.$VideoCTAEndscreen3=t.replayElement;this.$VideoCTAEndscreen4=t.ctaElement;this.$VideoCTAEndscreen5=t.isPausescreen;this.$VideoCTAEndscreen6=new m();this.$VideoCTAEndscreen6.addSubscriptions(k.listen(this.$VideoCTAEndscreen3,'click',(function(){return this.$VideoCTAEndscreen7();}).bind(this)),k.listen(this.$VideoCTAEndscreen4,'click',(function(){return this.$VideoCTAEndscreen8();}).bind(this)),s.addListener('beginPlayback',(function(){return this.$VideoCTAEndscreen9();}).bind(this)));if(this.$VideoCTAEndscreen5){this.$VideoCTAEndscreen6.addSubscriptions(s.addListener('pausePlayback',(function(){return this.$VideoCTAEndscreen10();}).bind(this)));}else this.$VideoCTAEndscreen6.addSubscriptions(s.addListener('finishPlayback',(function(){return this.$VideoCTAEndscreen10();}).bind(this)));}r.prototype.$VideoCTAEndscreen7=function(){'use strict';var s={reason:n.USER};this.$VideoCTAEndscreen1.clickVideo();var t=this.$VideoCTAEndscreen1.getVideoNode();if(this.$VideoCTAEndscreen1.isState('paused')){this.$VideoCTAEndscreen1.logEvent(o.UNPAUSED,s);}else if(this.$VideoCTAEndscreen1.isState('finished'))this.$VideoCTAEndscreen1.logEvent(o.REPLAYED,s);q(t);l.set(t);};r.prototype.$VideoCTAEndscreen8=function(){'use strict';h.inform(i.FBVIDEO_CLICK,{attachment:this.$VideoCTAEndscreen1.getRootNode(),fbvideo_id:this.$VideoCTAEndscreen1.getVideoID()});};r.prototype.$VideoCTAEndscreen10=function(){'use strict';j.addClass(this.$VideoCTAEndscreen2,"_1qbf");};r.prototype.$VideoCTAEndscreen9=function(){'use strict';j.removeClass(this.$VideoCTAEndscreen2,"_1qbf");};f.exports=r;},null);
__d('VideoFrameBuffer',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$VideoFrameBuffer1=j;this.$VideoFrameBuffer2=i;this.$VideoFrameBuffer3=k||'contain';}h.prototype.updateFrameBuffer=function(){'use strict';if(this.$VideoFrameBuffer4){this.$VideoFrameBuffer2.width=this.$VideoFrameBuffer4;this.$VideoFrameBuffer4=null;}if(this.$VideoFrameBuffer5){this.$VideoFrameBuffer2.height=this.$VideoFrameBuffer5;this.$VideoFrameBuffer5=null;}var i=this.$VideoFrameBuffer2.clientWidth||this.$VideoFrameBuffer2.width,j=this.$VideoFrameBuffer2.clientHeight||this.$VideoFrameBuffer2.height,k=i,l=j,m=this.$VideoFrameBuffer1.videoWidth/this.$VideoFrameBuffer1.videoHeight,n=k/l;if(this.$VideoFrameBuffer3==='cover'){n*=-1;m*=-1;}if(n>m){k=l*m;}else if(n<m)l=k/m;var o=this.$VideoFrameBuffer2.getContext('2d');if(!(o instanceof window.CanvasRenderingContext2D))return;o.drawImage(this.$VideoFrameBuffer1,(i-k)/2,(j-l)/2,k,l);};h.prototype.getDOMNode=function(){'use strict';return this.$VideoFrameBuffer2;};h.prototype.updateDimensions=function(i,j){'use strict';this.$VideoFrameBuffer4=i;this.$VideoFrameBuffer5=j;};f.exports=h;},null);